# =============================================================================
# Summarizer - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Generate secure tokens: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=9090
APP_URL=http://localhost:9090

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# For Docker: Use postgres:5432 (internal network)
# For local dev: Use localhost:5435 (host machine)
DATABASE_URL=postgresql://summarizer:pass@postgres:5432/summarizer

# =============================================================================
# EXTENSION CONFIGURATION
# =============================================================================
# Backend base URL for Chrome extension (build-time)
# This will be written into extension/config.js by scripts/generate-extension-config.js
# Use http://localhost:9090 for local development
# Use https://api.yourdomain.com for production
EXTENSION_BACKEND_BASE_URL=http://localhost:9090

# Database connection pool settings
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_CONNECTION_TIMEOUT=10000
DB_IDLE_TIMEOUT=30000
DB_SSL=false

# PostgreSQL credentials (used by docker-compose)
POSTGRES_USER=summarizer
POSTGRES_PASSWORD=pass
POSTGRES_DB=summarizer

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# REQUIRED: Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=
ADMIN_STATS_TOKEN=

# JWT token expiration (default: 30 days)
JWT_EXPIRES_IN=30d

# Bcrypt rounds for password hashing (default: 12)
BCRYPT_ROUNDS=12

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (* for development, specific domain for production)
CORS_ORIGIN=*

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# Provider to use for managed API keys (groq, gemini, or openai)
MANAGED_PROVIDER=groq

# Default model for summarization
DEFAULT_MODEL=llama-3.1-8b-instant

# API Keys (at least one required for extension free mode)
GROQ_API_KEY=
GEMINI_API_KEY=
OPENAI_API_KEY=

# =============================================================================
# USAGE LIMITS
# =============================================================================
# Free tier: Daily limit for authenticated users
FREE_DAILY_LIMIT=20

# Extension: Daily limit per anonymous installId
EXTENSION_DAILY_LIMIT=20

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log SQL queries (true/false)
LOG_SQL_QUERIES=false
